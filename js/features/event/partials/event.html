<div class="sandBox_content">
                
    <div class="sandBox_detail" ng-if="pageFlag === 'list'">
        <div class="mbox">
            <div class="mtitle">
                {{'EVENT' | translate}}
            </div>
            <div class="mbd mPadding15">
                <a
                    ng-if="currentAdmin.permissionMap[PERMISSION_KEY] === 2"
                    class="primary_btn"
                    ng-click="seeCreate()"
                >{{'ADD_EVENT' | translate}}</a>
                <div class="mfilter mMarginB15 mTop15">
                    <sb-dropdown select="filterOption.eventStatus" options="eventStatus" placeholder="placeholder.status" short="true"></sb-dropdown>
                </div>

                <table cellpadding="0" cellspacing="0" width="100%" border="0" class="default_table ann_table">
                    <tr>
                        <th width="15%">{{'EVENT_NAME' | translate}}</th>
                        <th width="8%" class="center">活动组织方</th>
                        <th width="11%" class="center">{{'EVENT_TIME' | translate}}</th>
                        <th width="15%">{{'EVENT_LOCATION' | translate}}</th>
                        <th width="8%" class="center">收费金额</th>
                        <th width="8%" class="center">是否审核</th>
                        <th width="8%" class="center">报名人数</th>
                        <th width="8%" class="center">活动状态</th>
                        <th width="8%" class="center">{{'REGISTRATION_FORM' | translate}}</th>
                        <th width="11%" class="center">{{'OPERATION' | translate}}</th>
                    </tr>
                    <tr ng-repeat="item in eventLists">
                        <td><!-- <span class="rec">推荐</span> --><a class="i_link" ng-bind="item.name" ng-click="seeEventDetail(item)"></a></td>
                        <td class="center" ng-bind="item.publish_company"></td>
                        <td class="center">
                            <span ng-repeat="date in item.arr" ng-class="{'common_padding': $index > 0}">{{date}}<br></span>
                        </td>
                        <td>{{item.city.name}} {{item.address}}</td>
                        <td class="center">
                            <span class="primary_f" ng-if="!item.is_charge">￥0</span>
                            <span class="primary_f" ng-if="item.is_charge">￥{{item.price}}</span>
                        </td>
                        <td class="center">
                            <span ng-if="item.verify">是</span>
                            <span ng-if="!item.verify">否</span>
                        </td>
                        <td class="center"><span ng-if="item.registration_method==='online'">{{item.registered_person_number}}人</span><span ng-if="item.registration_method==='offline'">--</span></td>
                        <td class="center">{{item.status.toUpperCase() | translate}}</td>
                        <td class="center">
                            <span ng-if="item.registration_method==='offline'">{{'OFFLINE' | translate}}</span>
                            <span ng-if="item.registration_method==='online'">{{'ONLINE' | translate}}</span>
                        </td>
                        <td class="center">
                            <div>
                                <a  class="b_link"
                                    ng-if="currentAdmin.permissionMap[PERMISSION_KEY] === 2"
                                    ng-click="seeEventEdit(item)"
                                >编辑</a>
                                <span class="link_s"> </span>
                                <a  class="b_link"
                                    ng-if="currentAdmin.permissionMap[PERMISSION_KEY] === 2"
                                    ng-click="changeEventStatus(item)"
                                ><span ng-if="item.visible">下架</span><span ng-if="!item.visible">发布</span></a>
                                <span class="link_s"> </span>
                                <a  class="b_link"
                                    ng-if="currentAdmin.permissionMap[PERMISSION_KEY] === 2"
                                    ng-click="showConfirm(item)"
                                >删除</a>
                            </div>
                            <div ng-if="item.registration_method==='online'">
                                <a  class="b_link"
                                    ng-click="showUserList(item)"
                                    ng-if="!item.is_saved"
                                >查看报名</a>
                                <span class="link_s"> </span>
                                <a  class="b_link"
                                    ng-click="showComList(item)"
                                    ng-if="!item.is_saved"
                                >查看评论</a>
                            </div>
                            <div ng-if="item.registration_method==='offline'">
                                <a  class="b_link"
                                    ng-click="showComList(item)"
                                    ng-if="!item.is_saved"
                                >查看评论</a>
                            </div>
                        </td>
                    </tr>
                </table>

                <pagination option="pageOptions" on-page="goPage(index)"></pagination>
            </div>
        </div>
    </div>

    <div class="sandBox_detail" ng-if="pageFlag === 'comlist'">
        <div class="mbox">
            <div class="mtitle">
                评论
            </div>
            <div class="mbd mPadding15">
                <div class="c_num"><span>{{commentCount}}</span>条评论</div>
                <div class="con_con">
                    <div class="con_box" ng-repeat="item in commentList">
                        <div class="con_p">
                            <image-with-fallback url="{{item.avatar}}" default-url="../img/head.png"></image-with-fallback>
                        </div>
                        <div class="con_t">
                            <div class="n_line">
                                {{item.author.name}}
                                <span class="n_j" ng-bind="item.author.job_title"></span>
                                <a class="del_c" ng-click="showDeleteComment(item)" ng-if="currentAdmin.permissionMap[PERMISSION_KEY] === 2">删除</a>
                            </div>
                            <div class="w_line">{{item.payload}}</div>
                            <div class="t_line">{{item.creation_date | date: 'yyyy-MM-dd HH:mma'}}</div>
                        </div>
                    </div>
                </div>

                <pagination option="pageOptions" on-page="goPage(index)"></pagination>
            </div>
        </div>
    </div>

    <div class="sandBox_detail" ng-if="pageFlag === 'userlist'">
        <div class="mbox">
            <div class="mtitle">
                {{'EVENT' | translate}}
            </div>
            <div class="mbd mPadding15">
                <div class="mfilter mMarginB15 mTop15">
                    <sb-dropdown select="filterOption.status" options="status" short="true"></sb-dropdown>
                    <a
                        ng-if="
                            approveUserNumber !== event.limit_number && 
                            event.verify &&
                            currentAdmin.permissionMap[PERMISSION_KEY] === 2
                        "
                        class="btnLink"
                        ng-click="acceptOperation()"
                    >批量同意</a>
                    <a
                        ng-if="
                            approveUserNumber !== event.limit_number && 
                            event.verify &&
                            currentAdmin.permissionMap[PERMISSION_KEY] === 2
                        "
                        class="btnLink"
                        ng-click="rejectOperation()"
                    >批量拒绝</a>
                </div>

                <table cellpadding="0" cellspacing="0" width="100%" border="0" class="default_table">
                    <tr>
                        <th ng-if="event.verify"><input type="checkbox" ng-model="selectAll.value" ng-click="selectAllUser()" ng-true-value="true" ng-false-value="false"></th>
                        <th>姓名</th>
                        <th>性别</th>
                        <th>邮箱</th>
                        <th ng-if="event.verify">操作</th>
                    </tr>
                    <tr ng-repeat="item in userLists">
                        <th ng-if="event.verify"><input type="checkbox" ng-model="item.selected" ng-true-value="true" ng-false-value="false" ng-if="item.status==='pending'"></th>
                        <td ng-click="seeUserDetail(item)"><a class="u_in" ng-bind="item.user_name"></a></td>
                        <td ng-bind="item.gender"></td>
                        <td ng-bind="item.email"></td>
                        <td ng-if="event.verify">
                            <a
                                ng-if="
                                    currentAdmin.permissionMap[PERMISSION_KEY] === 2 && 
                                    approveUserNumber !== event.limit_number && 
                                    event.verify && item.status==='pending'
                                "
                                ng-click="acceptOperation(item)"
                            >同意</a><span> </span>
                            <a
                                ng-if="
                                    currentAdmin.permissionMap[PERMISSION_KEY] === 2 && 
                                    approveUserNumber !== event.limit_number && 
                                    event.verify && item.status==='pending'
                                "
                                ng-click="rejectOperation(item)"
                            >拒绝</a>
                            <span ng-if="event.verify && item.status==='accepted'">
                                已同意
                            </span>
                            <span ng-if="event.verify && item.status==='rejected'">
                                已拒绝
                            </span>
                        </td>
                        
                    </tr>
                </table>
                <pagination option="pageOptions" on-page="goPage(index)"></pagination>
            </div>
        </div>
    </div>

    <div class="sandBox_detail" ng-if="pageFlag === 'create'">
        <div class="mbox">
            <div class="mtitle">
                {{'EVENT' | translate}}
            </div>

            <ul class="room_lsit">
                <li>
                    <span class="item_label"><font class="muted">*</font>{{'EVENT_NAME' | translate}}：</span>
                    <input type="text" class="default_text" ng-model="createOptions.name">
                </li>
                <li>
                    <span class="item_label"><font class="muted">*</font>{{'EVENT_IMAGES' | translate}}：</span>
                    <div class="add_slide">
                        <div>
                            <input type="file" nv-file-select ng-click="setImgType('cover')" uploader="draftImageUploader">
                            <img class="evt-c-img" src="img/default_add.jpg" ng-if="!images[0].download_link">
                            <img class="evt-c-img" ng-src="{{images[0].download_link}}" ng-if="images[0].download_link">
                            <p><span>上传封面图片</span></p>
                        </div>
                        <ul class="addImg three">
                            <li>
                                <div class="evt-p-box">
                                    <input type="file" nv-file-select ng-click="setImgType('1')" uploader="draftImageUploader">
                                    <img src="img/default_add.jpg" ng-if="!images[1].download_link">
                                    <img ng-src="{{images[1].download_link}}" ng-if="images[1].download_link">
                                    <span class="del" ng-click="deleteItem(images, 1)" ng-if="images[1].download_link">✖</span>
                                </div>
                            </li>
                            <li>
                                <div class="evt-p-box">
                                    <input type="file" nv-file-select ng-click="setImgType('2')" uploader="draftImageUploader">
                                    <img src="img/default_add.jpg" ng-if="!images[2].download_link">
                                    <img ng-src="{{images[2].download_link}}" ng-if="images[2].download_link">
                                    <span class="del" ng-click="deleteItem(images, 2)" ng-if="images[2].download_link">✖</span>
                                </div>
                            </li>
                            <li>
                                <div class="evt-p-box">
                                    <input type="file" nv-file-select ng-click="setImgType('3')" uploader="draftImageUploader">
                                    <img src="img/default_add.jpg" ng-if="!images[3].download_link">
                                    <img ng-src="{{images[3].download_link}}" ng-if="images[3].download_link">
                                    <span class="del" ng-click="deleteItem(images, 3)" ng-if="images[3].download_link">✖</span>
                                </div>
                            </li>
                        </ul>
                        <small translate translate-values="{width: gallery.width, height: gallery.height}">IMAGE_RULE</small>
                    </div>
                </li>
                <li>
                    <span class="item_label textarea"><font class="muted">*</font>{{'EVENT_DESCRIPTION' | translate}}：</span>
                    <textarea ng-model='createOptions.description'></textarea>
                </li>
                <li>
                    <span class="item_label textarea"><font class="muted">*</font>{{'EVENT_TIME' | translate}}：</span>
                    <div ng-repeat="item in createOptions.dates">
                        <div class="out_input">
                            <input type="text" ng-model="item.date" data-date-format="yyyy-MM-dd" data-min-date="{{now}}" data-autoclose="1" bs-datepicker><span><i class="fa fa-calendar"></i></span><span><i class="fa"></i></span>
                        </div>
                        <div style="margin: 10px 0;" ng-repeat="time in item.times">
                            <font class="muted">*</font>
                            <div class="out_input short">
                                <input type="text" ng-model="time.start_time" data-minute-step="1" data-time-format="HH:mm"  data-autoclose="1"  placeholder="00:00"  bs-timepicker>
                            </div> - 
                            <div class="out_input short">
                                <input type="text" ng-model="time.end_time" data-minute-step="1" data-time-format="HH:mm"  data-autoclose="1"  placeholder="00:00"  bs-timepicker>
                            </div>&nbsp;&nbsp;
                            <div class="out_input">
                                <input type="text" ng-model="time.description" placeholder="主题">
                            </div>
                        </div>
                        <a ng-click="addTime(item.times)"><i class="icon ic_add"></i></a>
                        <div class="divider"></div>
                    </div>
                    <div style="margin: 10px 0;"><a class="op_btn j_btn" ng-click="addDate(createOptions.dates)">添加日期</a></div>
                </li>
                <li>
                    <span class="item_label"><font class="muted">*</font>{{'EVENT_LOCATION' | translate}}：</span>
                    <sb-dropdown select="filterOption.city" options="cities" placeholder="placeholder.city" short='true' style="margin-right:6px;" no-empty></sb-dropdown>
                    <div class="out_input" style="width:370px;">
                        <input type="text" ng-model="createOptions.address" style="width: 320px;">
                    </div>
                </li>
                <li>
                    <span class="item_label"><font class="muted">*</font>{{'EVENT_LIMITATION' | translate}}：</span>
                    <input type="text" class="default_text" ng-model="createOptions.limit_number" maxlength="4">
                </li>
                <li>
                    <span class="item_label"><font class="muted">*</font>{{'REGISTRATION_TIME' | translate}}：</span>
                    <div class="out_input">
                        <input type="text" ng-model="startEndDate.registration_start_date" data-min-date="{{yesterday}}" data-max-date="{{startEndDate.registration_end_date}}" data-date-format="yyyy-MM-dd"  data-autoclose="1" placeholder="起始" bs-datepicker><span><i class="fa fa-calendar"></i></span>
                    </div>
                    <em>至</em>
                    <div class="out_input">
                        <input type="text" ng-model="startEndDate.registration_end_date" data-min-date="{{startEndDate.registration_start_date || yesterday}}" data-date-format="yyyy-MM-dd"  data-autoclose="1" placeholder="结束" bs-datepicker><span><i class="fa fa-calendar"></i></span>
                    </div>
                </li>
                <li>
                    <span class="item_label"><font class="muted">*</font>活动组织方：</span>
                    <input type="text" class="default_text" ng-model="createOptions.publish_company">
                </li>
                <!-- <li>
                    <span class="item_label"><font class="muted">*</font>是否报名收费：</span>
                    <p class="word">
                        <input type="radio" ng-model="createOptions.isCharge" ng-value="radio.yes">{{'YES' | translate}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        <input type="radio" ng-model="createOptions.isCharge" ng-value="radio.no">{{'NO' | translate}}
                    </p>
                </li> -->
                <li ng-if="createOptions.isCharge">
                    <span class="item_label"><font class="muted">*</font>收费金额：</span>
                    <input type="text" class="default_text charge_s" ng-model="createOptions.price" maxlength="6">
                    <span>元/人</span>
                </li>
                <li>
                    <span class="item_label"><font class="muted">*</font>{{'REGISTRATION_FORM' | translate}}：</span>
                    <p class="word">
                        <input type="radio" ng-model="createOptions.registration_method" value="offline">{{'OFFLINE' | translate}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        <input type="radio" ng-model="createOptions.registration_method" value="online">{{'ONLINE' | translate}}
                    </p>
                </li>
                <li ng-if="createOptions.registration_method == 'online' && (createOptions.price == 0 || createOptions.price == '')">
                    <span class="item_label"><font class="muted">*</font>是否审核：</span>
                    <p class="word" ng-if="createOptions.isCharge">
                        <input type="radio" ng-model="createOptions.verify" ng-value="radio.yes">{{'YES' | translate}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        <input type="radio" ng-model="createOptions.verify" ng-value="radio.no">{{'NO' | translate}}
                    </p>
                </li>
            </ul>

            <div class="mtitle mid" ng-if="createOptions.registration_method==='online'">
                在线报名表单
            </div>

            <ul class="room_lsit" ng-if="createOptions.registration_method==='online'">
                <li ng-repeat="item in createOptions.forms">
                    <span class="item_label" ng-if="item.type==='text'">{{'BASIC_TEXT' | translate}}：</span>
                    <span class="item_label" ng-if="item.type==='phone'">{{'TELEPHONE' | translate}}：</span>
                    <span class="item_label" ng-if="item.type==='email'">{{'EMAIL' | translate}}：</span>
                    <span class="item_label textarea" ng-if="item.type==='radio'">{{'SINGLE_SELECT' | translate}}：</span>
                    <span class="item_label textarea" ng-if="item.type==='checkbox'">{{'MULTISELECT' | translate}}：</span>
                    <input type="text" class="default_text" ng-model="item.title" placeholder="请输入表单标题">
                    <span ng-click="removeItem($index)" class="del_btn">X</span>
                    <ul ng-if="item.type==='radio' || item.type==='checkbox'">
                        <li ng-repeat="option in item.options track by $index">
                            <span>选择项：</span>
                            <input type="text" class="default_text normal" ng-model="option.content" placeholder="请输入选项名称">
                            <span class="del_item" ng-click="removeOption(item.options, $index)" ng-if="$index > 1">X</span>
                        </li>
                    </ul>
                    
                    <a ng-if="item.type==='radio' || item.type==='checkbox'" ng-click="addOptions(item)"><i class="icon ic_add"></i></a>
                </li>
                <li>
                    <span class="item_label"></span>
                    <a class="op_btn j_btn" data-placement="top-left" data-animation="am-flip-x" data-content-template="js/features/event/partials/popover.html" data-auto-close="1" bs-popover>添加表单</a>
                </li>
            </ul>

           <div class="mtitle mid btns">
                <a class="primary_btn" ng-click="addEvent(false)" ng-if="currentAdmin.permissionMap[PERMISSION_KEY] === 2">保存</a>
                <a class="primary_btn" ng-click="addEvent(true)" ng-if="currentAdmin.permissionMap[PERMISSION_KEY] === 2">保存并发布</a>
                <a class="op_btn" ng-click="back()">{{'CANCEL' | translate}}</a>
            </div>
        </div>
    </div>

    <div class="sandBox_detail" ng-if="pageFlag === 'edit'">
        <div class="mbox">
            <div class="mtitle">
                {{'EVENT' | translate}}
            </div>

            <ul class="room_lsit">
                <li>
                    <span class="item_label"><font class="muted">*</font>{{'EVENT_NAME' | translate}}：</span>
                    <input type="text" class="default_text" ng-model="editOptions.name">
                </li>
                <li>
                    <span class="item_label"><font class="muted">*</font>{{'EVENT_IMAGES' | translate}}：</span>
                    <div class="add_slide">
                        <div>
                            <input type="file" nv-file-select ng-click="setImgType('cover')" uploader="draftImageUploader">
                            <img class="evt-c-img" src="img/default_add.jpg" ng-if="!images[0].download_link">
                            <img class="evt-c-img" ng-src="{{images[0].download_link}}" ng-if="images[0].download_link">
                            <p><span>上传封面图片</span></p>
                        </div>
                        <ul class="addImg three">
                            <li>
                                <div class="evt-p-box">
                                    <input type="file" nv-file-select ng-click="setImgType('1')" uploader="draftImageUploader">
                                    <img src="img/default_add.jpg" ng-if="!images[1].download_link">
                                    <img ng-src="{{images[1].download_link}}" ng-if="images[1].download_link">
                                    <span class="del" ng-click="deleteItem(images, 1)" ng-if="images[1].download_link">✖</span>
                                </div>
                            </li>
                            <li>
                                <div class="evt-p-box">
                                    <input type="file" nv-file-select ng-click="setImgType('2')" uploader="draftImageUploader">
                                    <img src="img/default_add.jpg" ng-if="!images[2].download_link">
                                    <img ng-src="{{images[2].download_link}}" ng-if="images[2].download_link">
                                    <span class="del" ng-click="deleteItem(images, 2)" ng-if="images[2].download_link">✖</span>
                                </div>
                            </li>
                            <li>
                                <div class="evt-p-box">
                                    <input type="file" nv-file-select ng-click="setImgType('3')" uploader="draftImageUploader">
                                    <img src="img/default_add.jpg" ng-if="!images[3].download_link">
                                    <img ng-src="{{images[3].download_link}}" ng-if="images[3].download_link">
                                    <span class="del" ng-click="deleteItem(images, 3)" ng-if="images[3].download_link">✖</span>
                                </div>
                            </li>
                        </ul>
                        <small translate translate-values="{width: gallery.width, height: gallery.height}">IMAGE_RULE</small>
                    </div>
                </li>
                <li>
                    <span class="item_label textarea"><font class="muted">*</font>{{'EVENT_DESCRIPTION' | translate}}：</span>
                    <textarea ng-model='editOptions.description'></textarea>
                </li>
                <li>
                    <span class="item_label textarea"><font class="muted">*</font>{{'EVENT_TIME' | translate}}：</span>
                    <div ng-repeat="item in editOptions.dates">
                        <div class="out_input">
                            <input type="text" ng-model="item.date" data-date-format="yyyy-MM-dd" data-min-date="{{now}}" data-autoclose="1" bs-datepicker><span><i class="fa fa-calendar"></i></span>
                        </div>
                        <div style="margin: 10px 0;" ng-repeat="time in item.times">
                            <div class="out_input short">
                                <input type="text" ng-model="time.start_time" data-minute-step="1" data-time-format="HH:mm"  data-autoclose="1"  placeholder="00:00"  bs-timepicker>
                            </div> - 
                            <div class="out_input short">
                                <input type="text" ng-model="time.end_time" data-minute-step="1" data-time-format="HH:mm"  data-autoclose="1"  placeholder="00:00"  bs-timepicker>
                            </div>&nbsp;&nbsp;
                            <div class="out_input">
                                <input type="text" ng-model="time.description">
                            </div>
                        </div>
                        <a ng-click="addTime(item.times)"><i class="icon ic_add"></i></a>
                        <div class="divider"></div>
                    </div>
                    <div style="margin: 10px 0;"><a class="op_btn j_btn" ng-click="addDate(editOptions.dates)">添加日期</a></div>
                </li>
                <li>
                    <span class="item_label"><font class="muted">*</font>{{'EVENT_LOCATION' | translate}}：</span>
                    <sb-dropdown select="filterOption.city" options="cities" placeholder="placeholder.city" short='true' style="margin-right:6px;"></sb-dropdown>
                    <div class="out_input" style="width:370px;">
                        <input type="text" ng-model="editOptions.address" style="width: 320px;">
                    </div>
                </li>
                <li>
                    <span class="item_label"><font class="muted">*</font>{{'EVENT_LIMITATION' | translate}}：</span>
                    <input type="text" class="default_text" ng-model="editOptions.limit_number" maxlength="4">
                </li>
                <li>
                    <span class="item_label"><font class="muted">*</font>{{'REGISTRATION_TIME' | translate}}：</span>
                    <div class="out_input">
                        <input type="text" ng-model="startEndDate.registration_start_date" data-min-date="{{yesterday}}" data-max-date="{{startEndDate.registration_end_date}}" data-date-format="yyyy-MM-dd"  data-autoclose="1" bs-datepicker><span><i class="fa fa-calendar"></i></span>
                    </div>
                    <em>至</em>
                    <div class="out_input">
                        <input type="text" ng-model="startEndDate.registration_end_date" data-min-date="{{startEndDate.registration_start_date || yesterday}}" data-date-format="yyyy-MM-dd"  data-autoclose="1" bs-datepicker><span><i class="fa fa-calendar"></i></span>
                    </div>
                </li>
                <li>
                    <span class="item_label"><font class="muted">*</font>活动组织方：</span>
                    <input type="text" class="default_text" ng-model="editOptions.publish_company">
                </li>
                <li>
                    <span class="item_label">是否报名收费：</span>
                    <p class="word">
                        <span ng-if="editOptions.is_charge">{{'YES' | translate}}</span>
                        <span ng-if="!editOptions.is_charge">{{'NO' | translate}}</span>
                    </p>
                </li>
                <li ng-if="editOptions.is_charge">
                    <span class="item_label"><font class="muted">*</font>收费金额：</span>
                    <input type="text" class="default_text charge_s" ng-model="editOptions.price" maxlength="6">
                    <span>元/人</span>
                </li>
                <li>
                    <span class="item_label">{{'REGISTRATION_FORM' | translate}}：</span>
                    <p class="word">
                        <span ng-if="editOptions.registration_method==='offline'">{{'OFFLINE' | translate}}</span>
                        <span ng-if="editOptions.registration_method==='online'">{{'ONLINE' | translate}}</span>
                    </p>
                </li>
                <li ng-if="editOptions.registration_method==='online'">
                    <span class="item_label">是否审核：</span>
                    <p class="word">
                        <span ng-if="editOptions.verify">{{'YES' | translate}}</span>
                        <span ng-if="!editOptions.verify">{{'NO' | translate}}</span>
                    </p>
                </li>
            </ul>
            <div class="mtitle mid" ng-if="editOptions.registration_method=== 'online'">
                在线报名表单
            </div>

            <ul class="room_lsit" ng-if="editOptions.registration_method=== 'online'" >
                <li ng-repeat="item in editOptions.forms track by $index" ng-if="dateFlag">
                    <span class="item_label" ng-if="item.type==='text'">{{'BASIC_TEXT' | translate}}：</span>
                    <span class="item_label" ng-if="item.type==='phone'">{{'TELEPHONE' | translate}}：</span>
                    <span class="item_label" ng-if="item.type==='email'">{{'EMAIL' | translate}}：</span>
                    <span class="item_label textarea" ng-if="item.type==='radio'">{{'SINGLE_SELECT' | translate}}：</span>
                    <span class="item_label textarea" ng-if="item.type==='checkbox'">{{'MULTISELECT' | translate}}：</span>
                    <div class="out_input long">
                        <input type="text" ng-model="item.title" placeholder="请输入表单标题"><span><i class="icon ic_remove"></i></span>
                    </div>
                    <span ng-click="removeItem($index)" class="del_btn">X</span>
                    <ul ng-if="item.type==='radio' || item.type==='checkbox'">
                        <li ng-repeat="option in item.options" style="margin: 10px 0;">
                            <span>选择项：</span>
                            <div class="out_input option">
                                <input type="text" ng-model="option.content" placeholder="请输入选项名称"><span ng-if="$index !== 0 && $index !== 1"><i class="icon ic_remove"></i></span>
                            </div>
                        </li>

                    </ul>
                    <a ng-if="item.type==='radio' || item.type==='checkbox'" ng-click="addOptions(item)"><i class="icon ic_add"></i></a>
                </li>
                <li ng-repeat="item in editOptions.forms" ng-if="!dateFlag">
                    <span class="item_label">{{item.title}}：</span>
                    <div class="default_text" ng-if="item.type==='text' || item.type==='phone' || item.type==='email'"></div>
                    <p class="word" ng-if="item.type==='radio'">
                        <span ng-repeat="option in item.options" style="margin-right: 10px;"><i class="icon ic_radio"></i>{{option.content}}</span>
                    </p>
                    <p class="word" ng-if="item.type==='checkbox'">
                        <span class="block" ng-repeat="option in item.options"><i class="icon ic_checkbox"></i>{{option.content}}</span>
                    </p>
                </li>
                <li ng-if="dateFlag">
                    <span class="item_label"></span>
                    <a class="op_btn j_btn" data-placement="top-left" data-animation="am-flip-x" data-content-template="js/features/event/partials/popover.html" data-auto-close="1" bs-popover>添加表单</a>
                </li>
            </ul>

            <div class="mtitle mid btns">
                <!-- <a class="primary_btn" ng-click="editEvent(false)" ng-if="
                                        currentAdmin.permissionMap[PERMISSION_KEY] === 2
                                    ">保存</a> -->
                <a class="primary_btn" ng-click="editEvent(true)" ng-if="currentAdmin.permissionMap[PERMISSION_KEY] === 2">保存并发布</a>
                <a class="op_btn" ng-click="back()">{{'CANCEL' | translate}}</a>
            </div>
        </div>
    </div>

    <div class="sandBox_detail" ng-if="pageFlag === 'eventdetail'">
        <div class="mbox">
            <div class="mtitle">
                {{'EVENT' | translate}}
                <a class="btnLink" ng-click="showUserList(event)" ng-if="event.registration_method==='online' && !event.is_saved">查看报名用户</a>
            </div>

            <ul class="room_lsit">
                <li>
                    <span class="item_label">{{'EVENT_NAME' | translate}}：</span>
                    <p class="word">{{event.name}}</p>
                </li>
                <li>
                    <span class="item_label">{{'EVENT_IMAGES' | translate}}：</span>
                    <div class="add_slide">
                        <div class="detail-cover-image">
                            <img class="detail-cover-image" ng-src="{{event.attachments[0].content}}" alt="cover image"/>
                        </div>
                        <ul class="addImg three">
                            <li ng-repeat="attachment in event.attachments" ng-if="$index !== 0">
                                <img ng-src="{{attachment.content}}" alt=" image"/>
                            </li>
                        </ul>
                    </div>
                </li>
                <li>
                    <span class="item_label">{{'EVENT_DESCRIPTION' | translate}}：</span>
                    <p class="word" ng-bind-html="event.r_description"></p>
                </li>
                <li>
                    <span class="item_label">{{'EVENT_TIME' | translate}}：</span>
                    <p class="word"><span ng-repeat="item in event.arr">{{item}}<br></span></p>
                </li>
                <li>
                    <span class="item_label">{{'EVENT_LOCATION' | translate}}：</span>
                    <p class="word">{{event.city.name}} {{event.address}} </p>
                </li>
                <li>
                    <span class="item_label">{{'EVENT_LIMITATION' | translate}}：</span>
                    <p class="word">{{event.limit_number}}</p>
                </li>
                <li>
                    <span class="item_label">{{'REGISTRATION_TIME' | translate}}：</span>
                    <p class="word">{{event.registration_start_date | date: 'yyyy-MM-dd'}} - {{event.registration_end_date | date: 'yyyy-MM-dd'}}</p>
                </li>
                <li>
                    <span class="item_label">活动组织方：</span>
                    <p class="word">{{event.publish_company}}</p>
                </li>
                <li>
                    <span class="item_label">是否收费：</span>
                    <p class="word"><span ng-if="event.is_charge">是</span><span ng-if="!event.is_charge">否</span></p>
                </li>
                <li ng-if="event.is_charge">
                    <span class="item_label">收费金额：</span>
                    <p class="word">{{event.price}} 元/人</p>
                </li>
                <li>
                    <span class="item_label">{{'REGISTRATION_FORM' | translate}}：</span>
                    <p class="word" ng-if="event.registration_method==='offline'">{{'OFFLINE' | translate}}</p>
                    <p class="word" ng-if="event.registration_method==='online'">{{'ONLINE' | translate}}</p>
                </li>
                <li ng-if="event.registration_method==='online'">
                    <span class="item_label">是否审核：</span>
                    <p class="word">
                        <span ng-if="event.verify">{{'YES' | translate}}</span>
                        <span ng-if="!event.verify">{{'NO' | translate}}</span>
                    </p>
                </li>
            </ul>

            <div class="mtitle mid" ng-if="event.registration_method==='online'">
                表单
            </div>

            <ul class="room_lsit" ng-if="event.registration_method==='online'">
                <li ng-repeat="item in event.forms">
                    <span class="item_label">{{item.title}}：</span>
                    <div class="default_text" ng-if="item.type==='text' || item.type==='phone' || item.type==='email'"></div>
                    <p class="word" ng-if="item.type==='radio'">
                        <span ng-repeat="option in item.options" style="margin-right: 10px;"><i class="icon ic_radio"></i>{{option.content}}</span>
                    </p>
                    <p class="word" ng-if="item.type==='checkbox'">
                        <span class="block" ng-repeat="option in item.options"><i class="icon ic_checkbox"></i>{{option.content}}</span>
                    </p>
                </li>
            </ul>

            <div class="mtitle mid btns">
                <a
                    ng-if="currentAdmin.permissionMap[PERMISSION_KEY] === 2"
                    class="op_btn"
                    ng-click="seeEventEdit(event)"
                >编辑</a>
            </div>
        </div>
    </div>

    <div class="sandBox_detail" ng-if="pageFlag === 'userdetail'">
        <div class="mbox">
            <div class="mtitle">
                用户信息
            </div>

            <ul class="room_lsit">
                <li>
                    <span class="item_label">ID：</span>
                    <p class="word">{{userItem.id}}</p>
                </li>
                <li>
                    <span class="item_label">姓名：</span>
                    <p class="word">{{userItem.user_name}}</p>
                </li>
                <li>
                    <span class="item_label">性别：</span>
                    <p class="word">{{userItem.gender}}</p>
                </li>
                <li>
                    <span class="item_label">手机号码：</span>
                    <p class="word">{{userItem.phone}}</p>
                </li>
                <li>
                    <span class="item_label">邮箱：</span>
                    <p class="word">{{userItem.email}}</p>
                </li>
            </ul>

            <div class="mtitle mid" ng-if="event.registration_method==='online'">
                表单详情
            </div>

            <ul class="room_lsit" ng-if="event.registration_method==='online'">
                <li ng-repeat="item in userItem.forms">
                    <span class="item_label">{{item.title}}：</span>
                    <p class="word">
                        <span ng-bind="item.user_input"></span>
                    </p>
                </li>
            </ul>
        </div>
    </div>
</div>